<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <title>공통 레이아웃</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <script defer src="/js/scripts.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
<!-- 공통 헤더 -->
<header class="navbar">
    <div class="navbar-container">
        <!-- 로고 -->
        <div class="navbar-logo">
            <a href="/" style="color: #38A7FF">ShowPing</a>
        </div>

        <!-- 네비게이션 메뉴 -->
        <nav class="navbar-menu">
            <ul class="menu-list">
                <li class="menu-item dropdown">
                    <a>카테고리</a>
                    <!-- 드롭다운 메뉴 -->
                    <ul class="dropdown-menu">
                        <li class="menu-item dropdown">
                            <ul class="dropdown-menu">
                                <!-- 카테고리 리스트 동적 추가 -->
                                <li>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li class="menu-item dropdown">
                    <a>라이브</a>
                    <!-- 드롭다운 메뉴 -->
                    <ul class="dropdown-menu">
                        <li><a th:href="@{/webrtc/webrtc}">WebRTC</a></li>
                        <li><a th:href="@{/webrtc/watch}">Watch</a></li>
                        <li><a th:href="@{/stream/list}">라이브</a></li>
                    </ul>
                </li>
                <li class="menu-item dropdown">
                    <a href="/#">TV 편성표</a>
                </li>
                <li class="menu-item dropdown">
                    <a href="/#">이벤트</a>
                </li>
            </ul>
        </nav>

        <!-- 검색 및 언어 선택 -->
        <div class="navbar-right">
<!--            <div class="search-bar">-->
<!--                <form action="#" method="GET">-->
<!--                    <input type="text" name="search">-->
<!--                    <button type="submit">-->
<!--                        <img src="/img/search.png" style="height: 20px">-->
<!--                    </button>-->
<!--                </form>-->
<!--            </div>-->
            <div class="cart-bar">
                <a href="/cart">
                    <img th:src="@{/img/cart.png}" style="height: 20px">
                </a>
            </div>

            <!-- 로그인 상태에 따른 버튼 변경 -->
            <div class="user-menu" th:if="${#authorization.expression('isAuthenticated()')}">
                <span th:text="'환영합니다, ' + ${#authentication.name} + '님'"></span>
                <form id="logoutForm" action="/logout" method="post" style="display: inline;">
                    <button type="submit" class="logout-button">로그아웃</button>
                </form>
            </div>
            <a href="/login" class="login-button" th:unless="${#authorization.expression('isAuthenticated()')}">로그인</a>
        </div>
    </div>
</header>
<!-- 페이지 내용 -->
<div class="main-content">
    <main layout:fragment="content">
    </main>
</div>

<button id="scrollToTop" class="scroll-to-top">▲</button>

<!-- 공통 푸터 -->
<footer class="footer">
    <!-- Footer 하단 -->
    <div class="footer-bottom">
        <p>&copy; 2025 신세계 I&C. All rights reserved.</p>
        <div class="social-icons">
            <a href="/#">Facebook</a>
            <a href="/#">Twitter</a>
            <a href="/#">LinkedIn</a>
        </div>
    </div>
</footer>
</body>
</html>